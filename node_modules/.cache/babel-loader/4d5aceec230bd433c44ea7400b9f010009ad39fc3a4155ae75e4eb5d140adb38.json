{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* global google */\n// export default {\n//   methods: {\n//     logout() {\n//       localStorage.removeItem('token');\n//       this.$router.push('/'); // redirect to the login page\n//     }\n//   }\n// }\n// import * as THREE from 'three';\n\nimport LoginView from '@/components/LoginView.vue';\nexport default {\n  data() {\n    return {\n      isLargeScreen: true,\n      hideBottomNav: false,\n      scrollTimer: null,\n      prevScrollY: 0,\n      showLoginModal: false,\n      map: null,\n      locations: [],\n      data: [{\n        service: 'Service 1',\n        date: 'Date 1',\n        location: 'Location 1',\n        volunteers: 'Volunteers 1'\n      }\n      // add more data as needed...\n      ],\n\n      viewModalIndex: null,\n      signupModalIndex: null\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.initMap = this.initMap;\n      this.initMap();\n    });\n    window.addEventListener('resize', this.handleScreenResize);\n    this.handleScreenResize();\n    window.addEventListener('scroll', this.handleScroll);\n\n    // Fetch locations from the API\n    fetch('http://localhost:8000/api/locations/').then(response => response.json()).then(data => {\n      // Save the locations in your component's data\n      this.locations = data;\n      // Add markers to the map for each location\n      this.locations.forEach(location => {\n        new google.maps.Marker({\n          position: {\n            lat: location.latitude,\n            lng: location.longitude\n          },\n          map: this.map\n        });\n      });\n    });\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.handleScreenResize);\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n  methods: {\n    initMap() {\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        center: {\n          lat: 32.7767,\n          lng: -96.7970\n        },\n        zoom: 8\n      });\n    },\n    logout() {\n      localStorage.removeItem('token');\n      this.$router.push('/'); // redirect to the login page\n    },\n\n    handleScreenResize() {\n      this.isLargeScreen = window.innerWidth >= 768;\n      this.hideBottomNav = window.innerWidth >= 768;\n    },\n    handleScroll() {\n      clearTimeout(this.scrollTimer);\n      if (window.pageYOffset > this.prevScrollY || window.innerWidth >= 768) {\n        // Scrolling down\n        this.hideBottomNav = true;\n      } else {\n        // Scrolling up\n        this.hideBottomNav = false;\n      }\n      this.prevScrollY = window.pageYOffset;\n\n      // Set a timeout to hide the bottom nav after 5 seconds of scroll inactivity\n      this.scrollTimer = setTimeout(() => {\n        this.hideBottomNav = true;\n      }, 5000);\n    },\n    openLoginModal() {\n      this.showLoginModal = true;\n    },\n    closeLoginModal() {\n      this.showLoginModal = false;\n    },\n    openViewModal(index) {\n      this.viewModalIndex = index;\n    },\n    closeViewModal() {\n      this.viewModalIndex = null;\n    },\n    openSignupModal(index) {\n      this.signupModalIndex = index;\n    },\n    closeSignupModal() {\n      this.signupModalIndex = null;\n    }\n  },\n  components: {\n    LoginView\n  }\n};","map":{"version":3,"names":["LoginView","data","isLargeScreen","hideBottomNav","scrollTimer","prevScrollY","showLoginModal","map","locations","service","date","location","volunteers","viewModalIndex","signupModalIndex","mounted","$nextTick","window","initMap","addEventListener","handleScreenResize","handleScroll","fetch","then","response","json","forEach","google","maps","Marker","position","lat","latitude","lng","longitude","beforeUnmount","removeEventListener","methods","Map","document","getElementById","center","zoom","logout","localStorage","removeItem","$router","push","innerWidth","clearTimeout","pageYOffset","setTimeout","openLoginModal","closeLoginModal","openViewModal","index","closeViewModal","openSignupModal","closeSignupModal","components"],"sources":["C:\\Users\\burge\\OneDrive\\Desktop\\mh_py\\frontend\\src\\components\\ProtectedView.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-cyan-100 flex flex-col min-h-screen\">\r\n    <div class=\"w-full nav h-20 flex justify-between items-center\">\r\n      <div></div>\r\n      <div class=\"mr-12\">\r\n        <button @click=\"logout\" class=\"py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-sky-500 hover:bg-sky-700\">\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex w-full flex-grow\">\r\n      <div v-if=\"isLargeScreen\" class=\"w-36 h-screen bg-cyan-100\">side nav</div>\r\n\r\n      <!-- Main content area with three sections -->\r\n      <div class=\"w-full flex flex-col bg-green-50\" @scroll=\"handleScroll\">\r\n        <!-- Top div -->\r\n  <div class=\"w-full custom-sky p-4\">\r\n    <p>top</p>\r\n    <div id=\"map\" style=\"width: 100%; height: 400px;\"></div>\r\n\r\n          <div class=\"w-full sm:w-full bg-blue-200 p-5 mt-4\">\r\n            <div class=\"w-full sm:w-full bg-blue-200 p-5 mt-4\">\r\n              <table class=\"styled-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Service</th>\r\n                        <th>Description</th> <!-- New field -->\r\n                        <th>Location</th>\r\n                        \r\n                        <th>Date</th>\r\n                        \r\n                        \r\n                        <th>Meeting Time</th> <!-- New field -->\r\n                        <th>Volunteers</th>\r\n                        <th>View</th>\r\n                        <th>Sign-up</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(location, index) in locations\" :key=\"index\">\r\n                        <td data-label=\"Service\">{{ location.service }}</td>\r\n                        <td data-label=\"Service Description\">{{ location.service_description }}</td> <!-- New field -->\r\n\r\n                        <td data-label=\"Location\">{{ location.place_name }}</td>\r\n\r\n                        <td data-label=\"Date\">{{ location.date }}</td> <!-- Updated to use the date field -->\r\n                        <td data-label=\"Meeting Time\">{{ location.meeting_time }}</td> <!-- New field -->\r\n                        <td data-label=\"Volunteers\">{{ location.volunteers }}</td> <!-- Updated to use the volunteers field -->\r\n\r\n                        <td data-label=\"View\">\r\n                            <button @click=\"openViewModal(index)\" class=\"py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700\">\r\n                                View\r\n                            </button>\r\n                        </td>\r\n                        <td data-label=\"Sign-up\">\r\n                            <button @click=\"openSignupModal(index)\" class=\"py-2 px-2 text-xs font-semibold rounded-lg shadow-md text-white bg-blue-500 hover:bg-blue-700\">\r\n                                Sign-up\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n\r\n\r\n\r\n\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n  </div>\r\n\r\n        <!-- Middle div with three divs side by side -->\r\n        <div class=\"w-full flex flex-wrap justify-between bg-red-200 p-4\">\r\n          <div class=\"w-full sm:w-1/3 bg-blue-200 p-4\">\r\n            <p>Middle left content goes here</p>\r\n          </div>\r\n          <div class=\"w-full sm:w-1/3 bg-green-200 p-4\">\r\n            <p>Middle center content goes here</p>\r\n          </div>\r\n          <div class=\"w-full sm:w-1/3 bg-purple-200 p-4\">\r\n            <p>Middle right content goes here</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Bottom div with two divs side by side -->\r\n        <div class=\"w-full flex flex-wrap justify-between bg-orange-200 p-4\">\r\n          <div class=\"w-full sm:w-1/2 bg-pink-200 p-4\">\r\n            <p>Bottom left ddnt goes here</p>\r\n          </div>\r\n          <div class=\"w-full sm:w-1/2 bg-teal-200 p-4\">\r\n            <p>Bottom right content goes here</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      class=\"h-24 bg-green-500 fixed bottom-0 w-screen flex justify-between items-center\"\r\n      :class=\"{ 'hidden': hideBottomNav }\"\r\n    >\r\n      <button class=\"mr-4 bg-blue-500 text-white px-4 py-2 rounded\" @click=\"openLoginModal\">Login</button>\r\n    </div>\r\n\r\n    <div v-if=\"showLoginModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n      <div class=\"bg-white w-1/2 h-1/2 rounded p-4\">\r\n        <LoginView @close=\"closeLoginModal\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n  <!-- MODALS -->\r\n  <div v-if=\"viewModalIndex !== null\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n      <div class=\"bg-white w-1/2 h-1/2 rounded p-4\">\r\n          <button @click=\"closeViewModal\">Close</button>\r\n          <p>Viewing data for {{ data[viewModalIndex].service }}</p>\r\n          <!-- Add more content to the modal as needed -->\r\n      </div>\r\n  </div>\r\n\r\n  <div v-if=\"signupModalIndex !== null\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n      <div class=\"bg-white w-1/2 h-1/2 rounded p-4\">\r\n          <button @click=\"closeSignupModal\">Close</button>\r\n          <p>Signing up for {{ data[signupModalIndex].service }}</p>\r\n          <!-- Add more content to the modal as needed -->\r\n      </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n/* global google */\r\n// export default {\r\n//   methods: {\r\n//     logout() {\r\n//       localStorage.removeItem('token');\r\n//       this.$router.push('/'); // redirect to the login page\r\n//     }\r\n//   }\r\n// }\r\n// import * as THREE from 'three';\r\n\r\nimport LoginView from '@/components/LoginView.vue';\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLargeScreen: true,\r\n      hideBottomNav: false,\r\n      scrollTimer: null,\r\n      prevScrollY: 0,\r\n      showLoginModal: false,\r\n      map: null,\r\n      locations: [],\r\n      data: [\r\n          { service: 'Service 1', date: 'Date 1', location: 'Location 1', volunteers: 'Volunteers 1' },\r\n          // add more data as needed...\r\n      ],\r\n      viewModalIndex: null,\r\n      signupModalIndex: null,\r\n    };\r\n  },\r\n  mounted() {\r\n  this.$nextTick(() => {\r\n    window.initMap = this.initMap;\r\n    this.initMap();\r\n  });\r\n    window.addEventListener('resize', this.handleScreenResize);\r\n    this.handleScreenResize();\r\n    window.addEventListener('scroll', this.handleScroll);\r\n\r\n    // Fetch locations from the API\r\n    fetch('http://localhost:8000/api/locations/')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        // Save the locations in your component's data\r\n        this.locations = data;\r\n        // Add markers to the map for each location\r\n        this.locations.forEach(location => {\r\n          new google.maps.Marker({\r\n            position: { lat: location.latitude, lng: location.longitude },\r\n            map: this.map,\r\n          });\r\n        });\r\n      });\r\n\r\n\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('resize', this.handleScreenResize);\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      this.map = new google.maps.Map(document.getElementById('map'), {\r\n        center: {lat: 32.7767, lng: -96.7970},\r\n        zoom: 8\r\n      });\r\n    },\r\n    logout() {\r\n      localStorage.removeItem('token');\r\n      this.$router.push('/'); // redirect to the login page\r\n    },\r\n    handleScreenResize() {\r\n      this.isLargeScreen = window.innerWidth >= 768;\r\n      this.hideBottomNav = window.innerWidth >= 768;\r\n    },\r\n    handleScroll() {\r\n      clearTimeout(this.scrollTimer);\r\n\r\n      if (window.pageYOffset > this.prevScrollY || window.innerWidth >= 768) {\r\n        // Scrolling down\r\n        this.hideBottomNav = true;\r\n      } else {\r\n        // Scrolling up\r\n        this.hideBottomNav = false;\r\n      }\r\n\r\n      this.prevScrollY = window.pageYOffset;\r\n\r\n      // Set a timeout to hide the bottom nav after 5 seconds of scroll inactivity\r\n      this.scrollTimer = setTimeout(() => {\r\n        this.hideBottomNav = true;\r\n      }, 5000);\r\n    },\r\n    openLoginModal() {\r\n      this.showLoginModal = true;\r\n    },\r\n    closeLoginModal() {\r\n      this.showLoginModal = false;\r\n    },\r\n    openViewModal(index) {\r\n        this.viewModalIndex = index;\r\n    },\r\n    closeViewModal() {\r\n        this.viewModalIndex = null;\r\n    },\r\n    openSignupModal(index) {\r\n        this.signupModalIndex = index;\r\n    },\r\n    closeSignupModal() {\r\n        this.signupModalIndex = null;\r\n    },\r\n  },\r\n  components: {\r\n    LoginView,\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.styled-table {\r\n    border-collapse: collapse;\r\n    margin: 25px 0;\r\n    font-size: 0.9em;\r\n    font-family: sans-serif;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n    width: 100%;\r\n    background-color: #f0fdf4;\r\n    overflow-x: auto;\r\n}\r\n.styled-table thead tr {\r\n    background-color: #009879;\r\n    color: #ffffff;\r\n    text-align: left;\r\n}\r\n.styled-table th,\r\n.styled-table td {\r\n    padding: 12px 15px;\r\n    border-left: 1px solid #009879;\r\n    border-right: 1px solid #009879;\r\n}\r\n.styled-table tbody tr {\r\n    border-bottom: 1px solid #dddddd;\r\n}\r\n\r\n.styled-table tbody tr:nth-of-type(even) {\r\n    background-color: #f3f3f3;\r\n}\r\n\r\n.styled-table tbody tr:last-of-type {\r\n    border-bottom: 2px solid #009879;\r\n}\r\n\r\n.styled-table tbody tr.active-row {\r\n    font-weight: bold;\r\n    color: #009879;\r\n}\r\n\r\n.styled-table tbody tr:hover {\r\n    color: #009879;\r\n    transform: scale(1.02);\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n    .styled-table {\r\n        display: block;\r\n    }\r\n    .styled-table thead {\r\n        display: block;\r\n    }\r\n    .styled-table tbody {\r\n        display: block;\r\n    }\r\n    .styled-table thead tr {\r\n        box-sizing: border-box;\r\n        display: block;\r\n        position: absolute;\r\n        top: -9999px;\r\n        left: -9999px;\r\n    }\r\n    .styled-table tr {\r\n        display: block;\r\n        margin-bottom: 0rem;\r\n        \r\n    }\r\n    .styled-table td {\r\n        display: block;\r\n        font-size: .8em;\r\n        line-height: 1.5em;\r\n        text-align: right;\r\n    }\r\n\r\n    .styled-table tbody tr:hover {\r\n      color: #009879;\r\n      transform: scale(1.00);\r\n      transition: all 0.3s ease;\r\n    }\r\n    .styled-table td::before {\r\n        content: attr(data-label);\r\n        float: left;\r\n        font-weight: bold;\r\n        text-transform: uppercase;\r\n    }\r\n    .styled-table th,\r\n    .styled-table td {\r\n        padding: 12px 15px;\r\n        border-left: .01rem solid #009879;\r\n        border-right: .01rem solid #009879;\r\n    }\r\n}\r\n.custom-sky{\r\n  /* background: #9ac3fa; */\r\n  background-color: #e6ffff;\r\n}\r\n\r\n.nav{\r\n  background: #9ac3fa; \r\n}\r\n\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}